source(".//src//loader.R")
load.packages()
load.functions()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
arq.config = ".//StartValues_bean.config"
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(arq.config)
View(input)
df = fread("input/parametros_dssat.csv")
View(df)
linha = df[1,]
View(linha)
linha$EMFL
paramSim = c(EMFL = linha$EMFL, FLSH = linha$FLSH, FLSD = linha$FLSD, SDPM = linha$SDPM, FLLF = linha$FLLF)
inputList = input
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(arq.config)
inputList = input
View(linha)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
View(input)
View(df)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
inputList = input
# Realizando simulação
res = pmap(df, function(EMFL, FLSH, FLSD, SDPM, FLLF, Score, nomeArquivo) {
# Acessa diretamente as colunas como argumentos
# Determinando os parâmetros
paramSim = c(EMFL = EMFL, FLSH = FLSH, FLSD = FLSD, SDPM = SDPM, FLLF = FLLF)
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
return(run)
})
View(df)
View(df)
View(inputList)
View(inputList)
View(inputList)
inputList$coefficients
c("EMFL", "FLSH", "FLSD", "SDPM", "FLLF")
# Realizando simulação
res = pmap(df, function(...) {
# Acessa diretamente as colunas como argumentos
args <- list(...)
# Determinando nome do arquivo
nomeArquivo <- args$nomeArquivo
# Determinando os parâmetros
paramSim = unlist(args[names(args) %in% inputList$coefficients])
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
return(run)
})
res = pmap(df, function(...) {
# Acessa diretamente as colunas como argumentos
args <- list(...)
# Determinando nome do arquivo
nomeArquivo <- args$nomeArquivo
# Determinando os parâmetros
paramSim = unlist(args[names(args) %in% inputList$coefficients])
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
return(run)
})
rlang::last_trace()
paramSim = unlist(args[names(args) %in% inputList$coefficients])
# Realizando simulação
res = pmap(df, function(...) {
# Acessa diretamente as colunas como argumentos
args <- list(...)
# Determinando nome do arquivo
nomeArquivo <- args$nomeArquivo
# Determinando os parâmetros
paramSim = unlist(args[names(args) %in% inputList$coefficients])
browser()
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
return(run)
})
View(args)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
# Realizando simulação
res = pmap(df, function(EMFL, FLSH, FLSD, SDPM, FLLF,LFMAX, SLAVR, SIZLF, Score, nomeArquivo) {
browser()
# Acessa diretamente as colunas como argumentos
# Determinando os parâmetros
paramSim = c(EMFL = EMFL, FLSH = FLSH, FLSD = FLSD, SDPM = SDPM, FLLF = FLLF)
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
return(run)
})
# Acessa diretamente as colunas como argumentos
# Determinando os parâmetros
paramSim = c(EMFL = EMFL, FLSH = FLSH, FLSD = FLSD, SDPM = SDPM, FLLF = FLLF)
paramSim
inputList$coefficients
gsub("-","", inputList$coefficients)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
# Acessa diretamente as colunas como argumentos
args <- list(...)
View(args)
# Determinando o nome do arquivo
nomeArquivo <- args$nomeArquivo
# Determinando os parâmetros
paramSim = unlist(args[names(args) %in% gsub("-","", inputList$coefficients)])
paramSim
# Determinando os parâmetros
paramSim = unlist(args[names(args) %in% gsub("-","", inputList$coefficients)])
#==========================================================================#
# Executando SSE
run = simulationFunction(paramSim, gsub(":", "", sprintf("iteration_%s", format(Sys.time(), "%H:%M:%OS3"))), inputList)
# Adicionando nome da simulação
run$simulacao = nomeArquivo
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
# Carregando funcoes de inicializacao
source(".//src//loader.R")
# Carregando pacotes
load.packages()
# Compilando funcoes
compile.functions()
# Carregando funcoes compiladas
load.functions()
# Arquivo de Configuração
# ATENÇÃO!!! Ao mudar o arquivo de configurção, será necessário mudar também dentro da função
# Lendo o arquivo de configuração para adquirir o input
input = config.treatment(".//StartValues_bean.config")
# Lendo arquivo de dados
df = fread("input/parametros_dssat.csv")
# Simulação
simulacao_dssat(df, input)
cat(sprintf("==> [%s] Iniciando rodadas ", templateId))
startTime = Sys.time() |> as.numeric()
# Avancando log textual (1)
cat(sprintf(".. "))
# Criando diretorios das simulacoes
simulation.list = createSimulationDirectories(paramSim, templateId, inputList)
# Iniciando paralelismo caso esteja ativado
noCores = as.numeric(inputList$simulationCores)
# Obtendo modelo e calibracao
model = as.character(inputList$model)
calibration = as.character(inputList$calibration)
# Obtendo arquivo de execussao do dssat
dssatFile = as.character(inputList$dssatFile)
# Avancando log textual (2)
cat(sprintf(".. "))
# Executando Dssat em serie
run = runDssat(simulation.list, model, dssatFile, calibration)
return(NA)
# Retornando NA caso simulacao tenha dado erro
if(!simulationStatus) {
# Removendo diretorio de execucao temporario
#unlink(simulationDir, recursive = T)
browser()
return(NA)
}
# Carregando Evaluate.OUT
runEvaluate = readEvaluate(simulationDir, region)
